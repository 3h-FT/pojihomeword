<%= search_form_for @q, url: userpages_path, method: :get, html: { class: 'w-full p-4' } do |f| %>
  <div class="relative mb-6 w-full"
       data-controller="autocomplete"
       data-autocomplete-url-value="<%= autocomplete_url %>"
       role="combobox">
    
    <div class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2">

      <%= select_tag :sort,
          options_for_select([["新しい順", "latest"], ["古い順", "old"]], params[:sort] || "latest"),
          onchange: "this.form.submit()",
          class: "bg-white border border-gray-300 px-3 py-2 rounded-md text-gray-700" %>

      <%= f.text_field :word_cont,
        class: 'flex-grow bg-white p-2  mr-1 border border-gray-300 text-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-300 rounded-md',
        placeholder: 'ワード検索',
        data: { autocomplete_target: "input" } %>

      <%= f.submit '検索',
        class: 'whitespace-nowrap text-white bg-yellow-500 hover:bg-yellow-600 mb-2 px-4 py-2 rounded-md shadow-md w-full sm:w-auto' %>
    </div>

    <ul class="absolute z-50 mt-1 bg-white w-full rounded-md text-sm"
        data-autocomplete-target="results">
    </ul>

  </div>
<% end %>