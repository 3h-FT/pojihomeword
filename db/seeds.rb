# This file should ensure the existence of records required to run the application in every environment (production,
# development, test). The code here should be idempotent so that it can be executed at any point in every environment.
# The data can then be loaded with the bin/rails db:seed command (or created alongside the database with db:setup).
#
# Example:
#
#   ["Action", "Comedy", "Drama", "Horror"].each do |genre_name|
#     MovieGenre.find_or_create_by!(name: genre_name)
#   end

targets = [ "自分自身", "友達", "家族", "恋人・パートナー", "学生", "職場" ]
targets.each do |target_name|
  Target.find_or_create_by!(name: target_name, is_seeded: true)
end

situations = [
  { target_name: "自分自身", situations: [
    "自分の成功を祝う",
    "モチベーションを上げたいとき",
    "失敗から立ち直るとき",
    "新しい目標を設定するとき",
    "日々の小さな成長を認める"
  ] },

  { target_name: "友達", situations: [
    "友達の成功を祝う",
    "落ち込んでいる友達を励ます",
    "挑戦を応援する",
    "ありがとうを伝える",
    "友達の特別な日を祝う"
  ] },

  { target_name: "家族", situations: [
    "お疲れ様を伝える",
    "子育てを頑張っているとき",
    "親への感謝を伝える",
    "家族の特別な日を祝う",
    "家族の成功を祝う"
  ] },

  { target_name: "学生", situations: [
    "試験やテスト前の激励",
    "勉強に疲れたときの励まし",
    "目標達成を祝う",
    "部活や課外活動の頑張りを評価",
    "新しいことに挑戦するとき"
  ] },

  { target_name: "恋人・パートナー", situations: [
    "愛情を表現する",
    "支えてくれてありがとう",
    "恋人・パートナーの特別な日を祝う",
    "ケンカした後の仲直り",
    "不安や悩みを抱えているとき"
  ] },

  { target_name: "職場", situations: [
    "プロジェクト成功を祝う",
    "日々の努力への感謝",
    "忙しい時期の労い",
    "失敗したときの励まし",
    "昇進や表彰を祝う"
  ] }
]

# シチュエーションの登録と対応するポジティブメッセージの登録
situations.each do |target_data|
    target = Target.find_or_create_by!(name: target_data[:target_name], is_seeded: true)

# シチュエーションを対象人物ごとに登録
target_data[:situations].each do |situation_name|
    situation = Situation.find_or_create_by!(name: situation_name, target_id: target.id, is_seeded: true)

    positive_words = {
        # 自分自身に対するシチュエーション
        "自分の成功を祝う" => [
          "ここまで積み重ねてきた努力が、今日の結果をつくったんだよ！",
          "よくやったね!こんなにも遠くまで来たんだよ！",
          "この瞬間は、何よりの証明。誇っていい。胸を張っていい！"
          ],
          "モチベーションを上げたいとき" => [
            "もう少しで目標に達するよ、諦めずに頑張ろう！",
            "自分を信じて！絶対にできる！",
            "一歩一歩進んでいこう、必ず成し遂げられる！"
          ],
          "失敗から立ち直るとき" => [
            "失敗は成功への第一歩だよ、次は上手くいくよ！",
            "大丈夫、立ち直りは早い！次はきっとうまくいくよ！",
            "失敗から学んで次に生かそう！"
          ],
          "新しい目標を設定するとき" => [
            "新しい目標に向かって頑張ろう！一緒に達成しよう！",
            "新しい目標はチャレンジだね！",
            "自分の成長を感じながら、新しい目標に向かって進もう！"
          ],
          "日々の小さな成長を認める" => [
            "毎日の小さな成長が大きな成果に繋がるよ！",
            "毎日少しずつ前進している自分を褒めてあげて！",
            "小さな努力が積み重なって、素晴らしい成果を生み出すよ！"
          ],

          # 友達に対するシチュエーション
          "友達の成功を祝う" => [
            "成功おめでとう！これからも一緒に頑張ろう！",
            "すごいね！君ならどんなことでもできるよ！",
            "本当におめでとう！君の頑張りを見てきたから嬉しい！"
          ],
          "落ち込んでいる友達を励ます" => [
            "元気出して！君は強いから、きっと乗り越えられるよ！",
            "大丈夫だよ、一緒に頑張ろう！",
            "辛い時もあるけど、必ず良いことが待っているよ！"
          ],
          "挑戦を応援する" => [
            "君ならできるよ！新しい挑戦を楽しんで！",
            "挑戦を恐れない君が大好きだよ、応援している！",
            "どんな挑戦も乗り越えられる！君の成長が楽しみだ！"
          ],
          "ありがとうを伝える" => [
            "いつもありがとう！君がいると心強いよ！",
            "ありがとう、君のおかげで元気が出たよ！",
            "感謝してもしきれないよ、ありがとう！"
          ],
          "友達の特別な日を祝う" => [
            "お誕生日おめでとう！これからも素晴らしい日々を！",
            "特別な日を一緒に祝えることが嬉しい！",
            "君の特別な日を一緒に過ごせて嬉しいよ！"
          ],

          # 家族に対するシチュエーション
          "お疲れ様を伝える" => [
            "毎日お疲れ様！無理しないでね、休んでね！",
            "今日も頑張ったね！ゆっくり休んで！",
            "お疲れ様！ゆっくり休んで、明日また頑張ろう！"
          ],
          "子育てを頑張っているとき" => [
            "本当にお疲れ様！子育て頑張っててすごい！",
            "子育てって大変だと思うけど、君ならきっと素晴らしい親になるよ！",
            "子育てはすごく大変だけど、君ならうまくいくよ！"
          ],
          "親への感謝を伝える" => [
            "いつもありがとう、感謝の気持ちでいっぱいだよ！",
            "あなたのおかげで、今の自分があるよ！ありがとう！",
            "毎日ありがとう、これからも支えてね！"
          ],
          "家族の特別な日を祝う" => [
            "お誕生日おめでとう！いつまでも元気でいてね！",
            "特別な日を一緒に祝えて嬉しい！これからもずっと一緒に！",
            "特別な日を祝えて本当に幸せだよ！"
          ],
          "家族の成功を祝う" => [
            "おめでとう！家族みんなが一緒に頑張った成果だね！",
            "素晴らしいね！これからもみんなで支え合っていこう！",
            "家族の成功を祝えて嬉しい、これからも支え合おう！"
          ],

          # 恋人・パートナーに対するシチュエーション
          "愛情を表現する" => [
            "君がいるから毎日が幸せだよ！大好きだよ！",
            "愛してる、君と一緒にいる時間が一番幸せだよ！",
            "君がいるからこそ、毎日が特別だよ！"
          ],
          "支えてくれてありがとう" => [
            "いつも支えてくれてありがとう！君がいて本当に助かってるよ！",
            "君がいてくれるから乗り越えられるよ、ありがとう！",
            "君の支えに感謝してるよ、ありがとう！"
          ],
          "恋人・パートナーの特別な日を祝う" => [
            "今日は君の特別な日だね！お祝いしよう！",
            "君との特別な日が本当に楽しみ！お祝いしよう！",
            "特別な日を一緒に過ごせて幸せだよ！"
          ],
          "ケンカした後の仲直り" => [
            "ごめんね、ちゃんと話し合おう！",
            "もうすぐ仲直りしよう、二人なら乗り越えられる！",
            "ケンカしても、君が大切だよ！"
          ],
          "不安や悩みを抱えているとき" => [
            "一緒に悩みを乗り越えよう！君の気持ちも大切だよ！",
            "何か悩んでるのかな？一緒に考えるよ！",
            "心配しないで、君が元気でいられるように支えるよ！"
          ],

          # 学生向けのシチュエーションを追加
          "試験やテスト前の激励" => [
            "君ならできる！落ち着いて頑張ろう！",
            "努力は必ず報われるよ！自信を持って試験に挑もう！",
            "ここまで頑張ってきた自分を信じて、最後まで全力を尽くそう！"
          ],
          "勉強に疲れたときの励まし" => [
            "ちょっと休憩しよう！リフレッシュすれば、また頑張れるよ！",
            "頑張りすぎもよくないよ。少し休んでからまた取り組もう！",
            "疲れたときは深呼吸。無理せず、自分のペースで進めばいいんだよ！"
          ],
          "目標達成を祝う" => [
            "目標達成おめでとう！本当に頑張ったね！",
            "努力が実を結んだね！自分を誇りに思っていいよ！",
            "最高の結果だね！これからも一緒に頑張ろう！"
          ],
          "部活や課外活動の頑張りを評価" => [
            "練習の成果が出てるね！すごいよ！",
            "毎日の努力が実っているね！自信を持って進もう！",
            "全力で取り組む姿勢が素晴らしいよ！これからも応援してる！"
          ],
          "新しいことに挑戦するとき" => [
            "新しい挑戦、ワクワクするね！楽しんで取り組もう！",
            "最初は不安かもしれないけど、君ならきっと大丈夫！",
            "挑戦する勇気が素晴らしい！自信を持って進もう！"
          ],

          # 職場に対するシチュエーション
          "プロジェクト成功を祝う" => [
            "プロジェクト成功おめでとう！これからも一緒に頑張ろう！",
            "お疲れ様！この成果があってこその成功だね！",
            "プロジェクトの成功、本当におめでとう！次も頑張ろう！"
          ],
          "日々の努力への感謝" => [
            "毎日の努力、本当にありがとう！",
            "日々の頑張りが結果に繋がっているよ！ありがとう！",
            "毎日の努力に感謝してるよ、ありがとう！"
          ],
          "忙しい時期の労い" => [
            "忙しい中頑張ってくれてありがとう！",
            "大変な時期だけど、支えてくれてありがとう！",
            "頑張っている君に感謝！少し休んでね！"
          ],
          "失敗したときの励まし" => [
            "失敗したって大丈夫！君なら次はうまくいくよ！",
            "失敗を恐れず挑戦しよう！君ならきっと成功するよ！",
            "失敗は成功の母だよ、次こそうまくいく！"
          ],
          "昇進や表彰を祝う" => [
            "昇進おめでとう！次のステップも一緒に頑張ろう！",
            "表彰おめでとう！君の努力が実ったね！",
            "昇進おめでとう！これからも一緒に成長していこう！"
          ]
        }

          positive_words[situation_name].each do |word|
            PositiveWord.find_or_create_by!(user_id: nil, word: word, is_custom: false, situation_id: situation.id, target_id: target.id)
        end
      end
    end

if ENV["ADMIN_EMAIL"].present? && ENV["ADMIN_PASSWORD"].present?
  User.find_or_create_by!(email: ENV["ADMIN_EMAIL"]) do |user|
    user.username = "admin"
    user.password = ENV["ADMIN_PASSWORD"]
    user.password_confirmation = ENV["ADMIN_PASSWORD"]
    user.admin = true
  end
end
